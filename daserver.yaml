#DNS
dns:
  enable: true
  ipv6: false
  listen: :23453
  enhanced-mode: redir-host
  prefer-h3: false
  respect-rules: true
  nameserver-policy:
    "geosite: gfw":
      - https://dns.dns-53.us/dns-query
      - tls://sg01.dns4me.net
      - tls://unfiltered.adguard-dns.com
  nameserver:
    - https://doh.pub/dns-query
    - 119.29.29.29
    - 223.5.5.5
  proxy-server-nameserver:
    - 119.29.29.29
    - 223.5.5.5
port: 7890
proxies:

# æœºåœºé…ç½®æ¨¡å—
provider_config: &provider_config
  type: http
  interval: 43200
  proxy: DIRECT
  user-agent: clash.meta
  health-check:
    enable: true
    url: http://www.apple.com/library/test/success.html
    interval: 300

proxy-providers:
  AP1:
    url: #ä¿®æ”¹ä½ çš„æœºåœº1è®¢é˜…åœ°å€
    <<: *provider_config
    override:
      additional-prefix: "[V2R] "
      skip-cert-verify: true
      udp: true
  AP2:
    url: #ä¿®æ”¹ä½ çš„æœºåœº2è®¢é˜…åœ°å€
    <<: *provider_config
    override:
      additional-prefix: "[SSR] "
      skip-cert-verify: true
      udp: true

# åˆ†ç»„é…ç½®æ¨¡å—
standard_proxies: &standard_proxies
  type: select
  proxies:
    - DIRECT
    - ğŸš€ æ€»æ¨¡å¼
    - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    - ğŸï¸ å°æ¹¾èŠ‚ç‚¹
    - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
    - âš™ï¸ æ‰‹åŠ¨åˆ‡æ¢

all_proxies: &all_proxies
  type: select
  proxies:
    - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    - ğŸï¸ å°æ¹¾èŠ‚ç‚¹
    - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
    - âš™ï¸ æ‰‹åŠ¨åˆ‡æ¢
    - ğŸŒï¸ å…¶ä»–èŠ‚ç‚¹
    - DIRECT

# èŠ‚ç‚¹é…ç½®æ¨¡å—
filter_proxies: &filter_proxies
  type: url-test
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 100
  include-all: true

proxy-groups:
  - name: ğŸš€ æ€»æ¨¡å¼
    <<: *all_proxies

  - name: âš™ï¸ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    include-all: true

  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    <<: *filter_proxies

  - name: ğŸ¤– AI
    <<: *standard_proxies

  - name: â˜ï¸ PikPak
    <<: *standard_proxies

  - name: ğŸ” Porn
    <<: *standard_proxies

  - name: ğŸ“² èŠå¤©ç¤¾äº¤
    <<: *standard_proxies

  - name: ğŸ“ºï¸ æ²¹ç®¡è§†é¢‘
    <<: *standard_proxies

  - name: ğŸŒ å›½å¤–åª’ä½“
    <<: *standard_proxies

  - name: ğŸ‡¨ğŸ‡³ å›½å†…ç½‘ç«™
    <<: *standard_proxies

  - name: â“‚ï¸ å¾®è½¯äº‘ç›˜
    <<: *standard_proxies

  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    <<: *standard_proxies

  - name: ğŸ è‹¹æœæœåŠ¡
    <<: *standard_proxies

  - name: ğŸ® æ¸¸æˆå¹³å°
    <<: *standard_proxies

  - name: ğŸµ éŸ³ä¹æµåª’
    <<: *standard_proxies

  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸš€ æ€»æ¨¡å¼
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©

  - name: â›”ï¸ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
      - PASS

  - name: ğŸƒ åº”ç”¨å‡€åŒ–
    type: select
    proxies:
      - REJECT
      - DIRECT
      - PASS

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    <<: *standard_proxies

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b))).*$'

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b))).*$'

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b))).*$'

  - name: ğŸï¸ å°æ¹¾èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|TW|å°æ¹¾)).*$'

  - name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|é¦–å°”|(\b(KR|Korea)\b))).*$'

  - name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b))).*$'

  - name: ğŸŒï¸ å…¶ä»–èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?!.*(ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States|ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|Hong|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|JP|Japan|ğŸ‡¨ğŸ‡³|å°æ¹¾|ğŸ‡¹ğŸ‡¼|TW|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|SG|Singapore|ğŸ‡°ğŸ‡·|éŸ©å›½|é¦–å°”|KR|Korea)).*$'

# ruleSeté…ç½®æ¨¡å—
rule-anchor:
  basic: &basic
    type: http
    interval: 43200
    behavior: classical
    format: text

  others: &others
    type: http
    interval: 43200
    behavior: classical
    format: yaml

  mihomo: &mihomo
    type: http
    interval: 43200
    behavior: domain
    format: mrs

  ip: &ip
    type: http
    interval: 43200
    behavior: ipcidr
    format: mrs

rule-providers:
  Direct:
    <<: *others
    url: https://raw.githubusercontent.com/columbine2k/Ruleset/meta/Direct.yaml

  LocalAreaNetwork:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list

  UnBan:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list

  BanAD:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list

  BanProgramAD:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list

  AiDomain:
    <<: *basic
    url: https://raw.githubusercontent.com/szkane/ClashRuleSet/main/Clash/Ruleset/AiDomain.list

  SteamCN:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list

  PikPak:
    <<: *basic
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PikPak/PikPak.list

  Porn:
    <<: *basic
    url: https://raw.githubusercontent.com/columbine2k/Ruleset/meta/Porn.list

  OneDrive:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list

  Microsoft:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list

  apple@cn:
    <<: *mihomo
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple@cn.mrs

  Apple:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list

  Telegram:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list

  Line:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Line.list

  Facebook:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Facebook.list

  TikTok:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/TikTok.list

  Deezer:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Deezer.list

  Spotify:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Spotify.list

  Steam:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list

  YouTube:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list

  ChinaMedia:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list

  ProxyMedia:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list

  ProxyGFWlist:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list

  ChinaDomain:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list

  ChinaCompanyIp:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list

  Download:
    <<: *basic
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list

  China:
    <<: *others
    url: https://raw.githubusercontent.com/columbine2k/Ruleset/meta/China.yaml

rules:
  - RULE-SET,Direct,DIRECT
  - RULE-SET,LocalAreaNetwork,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,UnBan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,BanAD,â›”ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanProgramAD,ğŸƒ åº”ç”¨å‡€åŒ–
  - RULE-SET,AiDomain,ğŸ¤– AI
  - RULE-SET,SteamCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,PikPak,â˜ï¸ PikPak
  - RULE-SET,Porn,ğŸ” Porn
  - RULE-SET,OneDrive,â“‚ï¸ å¾®è½¯äº‘ç›˜
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,apple@cn,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Telegram,ğŸ“² èŠå¤©ç¤¾äº¤
  - RULE-SET,Line,ğŸ“² èŠå¤©ç¤¾äº¤
  - RULE-SET,Facebook,ğŸ“² èŠå¤©ç¤¾äº¤
  - RULE-SET,TikTok,ğŸµ éŸ³ä¹æµåª’
  - RULE-SET,Deezer,ğŸµ éŸ³ä¹æµåª’
  - RULE-SET,Spotify,ğŸµ éŸ³ä¹æµåª’
  - RULE-SET,Steam,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,YouTube,ğŸ“ºï¸ æ²¹ç®¡è§†é¢‘
  - RULE-SET,ChinaMedia,ğŸ‡¨ğŸ‡³ å›½å†…ç½‘ç«™
  - RULE-SET,ProxyMedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,ProxyGFWlist,ğŸš€ æ€»æ¨¡å¼
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,China,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
